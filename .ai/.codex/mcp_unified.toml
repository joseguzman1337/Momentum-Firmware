# Unified MCP Configuration for Momentum Firmware
# Model Context Protocol servers for AI-powered development pipeline

# Core AI Agents (Internal)
[mcp_servers.momentum-codex]
command = "python"
args = [".ai/codex/agent.py"]
env = {
    LOG_DIR = "logs/codex",
    AUTO_MERGE = "true",
    YOLO_MODE = "true",
    PROJECT_ROOT = "/Users/x/x/Momentum-Firmware"
}
startup_timeout_sec = 30
tool_timeout_sec = 300
enabled = true

[mcp_servers.codex-cloud]
command = "python"
args = [".ai/codex-cloud/agent.py"]
env = {
    LOG_DIR = "logs/codex-cloud",
    AUTO_MERGE = "true",
    CLOUD_MODE = "true"
}
startup_timeout_sec = 45
tool_timeout_sec = 600
enabled = true

[mcp_servers.claude-security]
command = "python"
args = [".ai/claude/security_agent.py"]
env = {
    LOG_DIR = "logs/claude",
    AUTO_MERGE = "true",
    SECURITY_SCAN = "true"
}
startup_timeout_sec = 20
tool_timeout_sec = 180
enabled = true

[mcp_servers.jules-async]
command = "python"
args = [".ai/jules/async_agent.py"]
env = {
    LOG_DIR = "logs/jules",
    ASYNC_MODE = "true",
    CONCURRENT_SESSIONS = "100"
}
startup_timeout_sec = 25
tool_timeout_sec = 240
enabled = true

[mcp_servers.gemini-super]
command = "python"
args = [".ai/gemini/super_agent.py"]
env = {
    LOG_DIR = "logs/gemini",
    SUPER_AGENT = "true",
    RAG_MODE = "true"
}
startup_timeout_sec = 35
tool_timeout_sec = 360
enabled = true

[mcp_servers.deepseek-optimizer]
command = "python"
args = [".ai/deepseek/optimization_agent.py"]
env = {
    LOG_DIR = "logs/deepseek",
    OPTIMIZATION_MODE = "true",
    INDIVIDUAL_PRS = "true"
}
startup_timeout_sec = 20
tool_timeout_sec = 200
enabled = true

[mcp_servers.warp-quality]
command = "python"
args = [".ai/warp/quality_agent.py"]
env = {
    LOG_DIR = "logs/warp",
    QUALITY_CHECK = "true",
    AI_AGENT_MODE = "true"
}
startup_timeout_sec = 15
tool_timeout_sec = 120
enabled = true

[mcp_servers.amazonq-cloud]
command = "python"
args = [".ai/amazonq/agent.py"]
env = {
    LOG_DIR = "logs/amazonq",
    AUTO_MERGE = "true",
    AWS_REGION = "us-east-1"
}
startup_timeout_sec = 25
tool_timeout_sec = 180
enabled = true

[mcp_servers.kiro-dev]
command = "python"
args = [".ai/kiro/agent.py"]
env = {
    LOG_DIR = "logs/kiro",
    DEV_WORKFLOW = "true",
    TOOLING_OPTIMIZATION = "true"
}
startup_timeout_sec = 20
tool_timeout_sec = 150
enabled = true

# External MCP Servers (Third-party)
[mcp_servers.context7]
command = "npx"
args = ["-y", "@upstash/context7-mcp"]
startup_timeout_sec = 30
tool_timeout_sec = 60
enabled = true

[mcp_servers.github]
command = "npx"
args = ["-y", "@modelcontextprotocol/server-github"]
env = {
    GITHUB_PERSONAL_ACCESS_TOKEN = "$GITHUB_TOKEN"
}
startup_timeout_sec = 20
tool_timeout_sec = 90
enabled = true

[mcp_servers.playwright]
command = "npx"
args = ["-y", "@playwright/mcp"]
startup_timeout_sec = 40
tool_timeout_sec = 120
enabled = false  # Enable when browser automation needed

[mcp_servers.chrome-devtools]
url = "http://localhost:3000/mcp"
enabled_tools = ["open", "screenshot", "navigate"]
startup_timeout_sec = 20
tool_timeout_sec = 45
enabled = false  # Enable when Chrome debugging needed

# Internal Communication Servers
[mcp_servers.rag-knowledge]
command = "python"
args = [".ai/rag/server.py"]
env = {
    VECTOR_STORE = ".ai/rag/embeddings",
    KNOWLEDGE_BASE = ".ai/rag/shared_knowledge.json"
}
startup_timeout_sec = 15
tool_timeout_sec = 60
enabled = true

[mcp_servers.agent-communication]
command = "python"
args = [".ai/workflows/message_bus.py"]
env = {
    MESSAGE_BUS = ".ai/workflows/message_bus.json",
    COORDINATION_MODE = "true"
}
startup_timeout_sec = 10
tool_timeout_sec = 30
enabled = true

# Development Tools Integration
[mcp_servers.flipper-tools]
command = "python"
args = [".ai/tools/flipper_mcp.py"]
env = {
    FBT_PATH = "./fbt",
    FLIPPER_TOOLCHAIN = "toolchain/current"
}
startup_timeout_sec = 25
tool_timeout_sec = 180
enabled = true

[mcp_servers.firmware-analyzer]
command = "python"
args = [".ai/tools/firmware_analyzer.py"]
env = {
    ANALYSIS_MODE = "comprehensive",
    OUTPUT_DIR = "logs/analysis"
}
startup_timeout_sec = 20
tool_timeout_sec = 300
enabled = true

# Security and Compliance
[mcp_servers.security-scanner]
command = "python"
args = [".ai/security/scanner.py"]
env = {
    SCAN_MODE = "continuous",
    ALERT_THRESHOLD = "medium"
}
startup_timeout_sec = 15
tool_timeout_sec = 120
enabled = true

# Documentation and Knowledge
[mcp_servers.docs-generator]
command = "python"
args = [".ai/docs/generator.py"]
env = {
    DOCS_OUTPUT = "docs/generated",
    AUTO_UPDATE = "true"
}
startup_timeout_sec = 10
tool_timeout_sec = 90
enabled = true